webpackJsonp([1],[,,,,,,,,function(e,t,s){s(39);var a=s(0)(s(9),s(50),null,null);e.exports=a.exports},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(44),n=s.n(a);t.default={name:"app",components:{saber_chttp:n.a},computed:{theme_addr:function(){return"../../app/static/css/"+Saber.preferences.theme+".css"}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Saber.require("electron").remote,n=a.Menu,r=a.MenuItem;t.default={data:function(){var e=Saber.store("saber_http");return Saber.isEmpty(e)?{history_queue:[]}:e},mounted:function(){this.$parent.eventhub.$on("Add2history",this.add2history)},methods:{add2history:function(e){var t=this.history_queue.unshift(e);this.history_queue.splice(20,t-20),Saber.store("saber_http",this.$data)},urlobj:function(e){return Saber.require("url").parse(e)},contextmenu:function(e){var t=new n,s=window.event,o=this;t.append(new r({label:"移除",click:function(){o.history_queue.splice(e,1),o.$parent.eventhub.$emit("replay",this.history_queue[e])}})),t.popup(a.getCurrentWindow()),s.preventDefault(),s.stopPropagation()},replay:function(e){this.$parent.eventhub.$emit("replay",this.history_queue[e])}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(16),n=s.n(a),r=s(17),o=s.n(r),i=s(43),u=s.n(i),l=Saber.require("electron").remote,c=l.Menu,p=l.MenuItem,v=Saber.require("electron"),d=v.clipboard;t.default={data:function(){return{header:{},data:"",status:"",bytes:0,activeItem:null,fullscreen:!1}},components:{jsonViewer:u.a},computed:{headers:function(){var e="";for(var t in this.header)e+=t+" : "+this.header[t]+"\n";return e}},created:function(){this.$parent.eventhub.$on("ParseHttp",this.parseHttp)},methods:{jsonactive:function(e){e.stopPropagation(),this.activeItem&&this.activeItem.$emit("sethover",!1);var t=e.target.closest("li"),s=t&&t.__vue__;if(s){for(;"object"!==s.type&&"array"!==s.type;)if(t=t.parentElement.closest("li"),!(s=t&&t.__vue__))return;this.activeItem=s,s.$emit("sethover",!0)}},parseHttp:function(e){var t=this;e instanceof Error&&(this.status=e.message);var s="";this.status=e.statusCode,this.bytes=e.socket.bytesRead,this.header=e.headers,e.on("data",function(e){s+=e}),e.on("end",function(){try{t.data=o()(JSON.parse(s))}catch(e){t.data=o()(s)}})},contextmenu:function(e){var t=new c,s=window.event,a=this;this.items;t.append(new p({label:"复制",click:function(){var e=n()(a.data,null,4);d.writeText(e.toString())}})),t.append(new p({label:"全屏",click:function(){a.fullscreen=!0}})),t.append(new p({label:"还原",click:function(){a.fullscreen=!1}})),t.popup(l.getCurrentWindow()),s.preventDefault(),s.stopPropagation()}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{method:"GET",url:"",header:"",content:"",url_focus:!1,encode:"utf8",Cookies:""}},mounted:function(){this.$parent.eventhub.$on("replay",this.replay)},methods:{onurlfocus:function(){this.url_focus=!0},onurlblur:function(){this.url_focus=!1},send:function(){var e=this,t=Saber.require("url").parse(this.url),s=(Saber.require("querystring"),Saber.require(t.protocol&&t.protocol.substring(0,t.protocol.length-1)||"http")),a={};this.header.trim().split("\n").forEach(function(e){var t=e.split(/\s*:\s*/);t.length>1&&(a[t[0]]=t[1])}),this.Cookies&&(a.Cookie=this.Cookies);var n={hostname:t.hostname,port:t.port||(t.protocol&&"http"===t.protocol.substring(0,t.protocol.length-1)?80:443),path:t.path,method:this.method,agent:!1,headers:a},r=s.request(n,function(t){try{t.setEncoding(e.encode),console.log(t),e.$parent.eventhub.$emit("Add2history",{method:e.method,url:e.url,header:e.header,encode:e.encode,Cookies:e.Cookies,content:e.content,status:t.statusCode}),e.$parent.eventhub.$emit("ParseHttp",t)}catch(e){consoel.log(e)}});r.on("error",function(e){console.log("problem with request: "+e.message)}),r.write(this.content),r.end()},replay:function(e){for(var t in e)"status"!==t&&(this[t]=e[t])},clear:function(){this.method="GET",this.url="",this.header="",this.content="",this.url_focus=!1,this.encode="utf8",this.Cookies=""}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"item",data:function(){return{hover:!1}},props:["itemObj","itemName","isLast"],mounted:function(){var e=this;this.$on("sethover",function(t){e.hover=t})},computed:{isFolder:function(){return"[object Object]"===toString.call(this.itemObj)||Array.isArray(this.itemObj)},value:function(){return toString.call(this.itemObj),this.itemObj.valueOf()},type:function(){return this.type=toString.call(this.itemObj).match(/(\w*)]$/)[1].toLowerCase()}},methods:{islast:function(e){if("array"===this.type)return e===this.itemObj.length-1;if("object"===this.type){var t=0;for(var s in this.itemObj)t++;return e===t-1}return!1},toggle:function(){}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(5),n=s(40),r=s.n(n),o=s(42),i=s.n(o),u=s(41),l=s.n(u);t.default={data:function(){return{eventhub:new a.a}},components:{history:r.a,httpSender:i.a,httpParser:l.a}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(5),n=s(8),r=s.n(n);a.a.config.productionTip=!1,new a.a({el:"#app",template:"<App/>",components:{App:r.a}})},,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,s){s(37);var a=s(0)(s(10),s(48),"data-v-71a729b6",null);e.exports=a.exports},function(e,t,s){s(38);var a=s(0)(s(11),s(49),"data-v-803e3dd6",null);e.exports=a.exports},function(e,t,s){s(35);var a=s(0)(s(12),s(46),"data-v-34ccc42b",null);e.exports=a.exports},function(e,t,s){s(34);var a=s(0)(s(13),s(45),"data-v-2ddd91e8",null);e.exports=a.exports},function(e,t,s){s(36);var a=s(0)(s(14),s(47),"data-v-4e4d84ef",null);e.exports=a.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("div",[e.itemName?s("span",[e.itemName?s("span",{staticClass:"itemkey"},[e._v('"'+e._s(e.itemName)+'"')]):e._e(),e._v("\n        :")]):e._e(),e._v(" "),"object"===e.type?s("div",{staticClass:"itemvalue object",class:{hover:e.hover}},[s("span",[e._v("{")]),e._v(" "),s("ul",e._l(e.itemObj,function(t,a,n){return s("item",{key:a,staticClass:"item",attrs:{itemObj:Object.freeze(t),itemName:a,isLast:!e.islast(n)}})})),e._v(" "),s("span",[e._v("}")]),e.isLast?s("span",{staticClass:"dot"},[e._v(",")]):e._e()]):"array"===e.type?s("div",{staticClass:"itemvalue array",class:{hover:e.hover}},[s("span",[e._v("[")]),e._v(" "),s("ul",e._l(e.itemObj,function(t,a){return s("item",{key:a,staticClass:"item",attrs:{itemObj:Object.freeze(t),isLast:!e.islast(a)}})})),e._v(" "),s("span",[e._v("]")]),e.isLast?s("span",{staticClass:"dot"},[e._v(",")]):e._e()]):"string"===e.type?s("span",{staticClass:"itemvalue string"},[e._v('"'+e._s(e.value)+'"'),e.isLast?s("span",{staticClass:"dot"},[e._v(",")]):e._e()]):"number"===e.type?s("span",{staticClass:"itemvalue number"},[e._v(e._s(e.value)),e.isLast?s("span",{staticClass:"dot"},[e._v(",")]):e._e()]):"boolean"===e.type?s("span",{staticClass:"itemvalue boolean"},[e._v(e._s(e.value)),e.isLast?s("span",{staticClass:"dot"},[e._v(",")]):e._e()]):e._e()])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"http_sender"},[s("section",[s("label",[e._v("控制台")]),e._v(" "),s("div",{staticClass:"console_wrapper"},[s("div",{staticClass:"select_wrapper method"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.method,expression:"method"}],attrs:{title:"请求方法"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.method=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"GET"}},[e._v("GET")]),e._v(" "),s("option",{attrs:{value:"POST"}},[e._v("POST")]),e._v(" "),s("option",{attrs:{value:"DELETE"}},[e._v("DELETE")]),e._v(" "),s("option",{attrs:{value:"UPDATE"}},[e._v("PUT")])])]),e._v(" "),s("div",{staticClass:"select_wrapper encode"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.encode,expression:"encode"}],attrs:{title:"回执编码"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.encode=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"utf8"}},[e._v("UTF-8")]),e._v(" "),s("option",{attrs:{value:"gbk"}},[e._v("GBK")])])]),e._v(" "),s("div",{staticClass:"clear btn",on:{click:e.clear}},[s("i",{staticClass:"fa fa-trash-o",attrs:{title:"清空表单","aria-hidden":"true"}})]),e._v(" "),s("div",{staticClass:"sendbtn btn",on:{click:e.send}},[s("i",{staticClass:"fa fa-paper-plane-o",attrs:{title:"发送","aria-hidden":"true"}})])]),e._v(" "),s("label",[e._v("请求地址")]),e._v(" "),s("div",{staticClass:"url_wrapper",class:{url_wrapper_focus:e.url_focus}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{placeholder:"例如： http://example.com",type:"text"},domProps:{value:e.url},on:{focus:e.onurlfocus,blur:e.onurlblur,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.send(t)},input:function(t){t.target.composing||(e.url=t.target.value)}}})])]),e._v(" "),s("section",[s("label",[e._v("请求头部")]),e._v(" "),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.header,expression:"header"}],attrs:{placeholder:"key:value的格式,一行一条。"},domProps:{value:e.header},on:{input:function(t){t.target.composing||(e.header=t.target.value)}}})])]),e._v(" "),s("section",[s("label",[e._v("Cookies")]),e._v(" "),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Cookies,expression:"Cookies"}],attrs:{placeholder:"cookie的格式：key=value;key2=value2;key3=value3"},domProps:{value:e.Cookies},on:{input:function(t){t.target.composing||(e.Cookies=t.target.value)}}})])]),e._v(" "),s("section",{staticClass:"last-section"},[s("label",[e._v("报文内容")]),e._v(" "),s("div",{staticClass:"text_wrapper"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{name:"http_data",placeholder:"参数例：a=b&c=d&f=e,get和head方式除外"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}})])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"saber_http"},[s("section",{staticClass:"history"},[s("history")],1),e._v(" "),s("section",{staticClass:"http-sender"},[s("http-sender")],1),e._v(" "),s("section",{staticClass:"http-parser"},[s("http-parser")],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"history_queue hover_scroll"},[s("label",{attrs:{for:""}},[e._v("历史纪录")]),e._v(" "),s("ul",e._l(e.history_queue,function(t,a){return s("li",{class:"item _"+(t.status||"").toString().charAt(0)+"00",on:{click:function(t){e.replay(a)},contextmenu:function(t){e.contextmenu(a)}}},[s("span",{staticClass:"host"},[e._v(e._s(e.urlobj(t.url).host||"Undefined"))]),e._v(" "),s("span",{staticClass:"status"},[s("span",{class:"method method_"+t.method.toLowerCase()},[e._v(e._s(t.method.toUpperCase()))]),e._v(e._s(t.status))]),e._v(" "),s("span",{staticClass:"url"},[e._v(e._s(t.url))])])}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"http_parser"},[s("label",{attrs:{for:"parser"}},[e._v("结果解析")]),e._v(" "),s("section",{attrs:{id:"parser"}},[s("div",{staticClass:"status"},[s("span",[e._v("响应状态："+e._s(e.status))]),e._v("    "),s("span",[e._v("传输字节："+e._s(e.bytes)+"Bytes")])]),e._v(" "),s("label",[e._v("响应头部")]),e._v(" "),s("div",{staticClass:"res_header"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.headers,expression:"headers"}],attrs:{name:"http_header",id:"",cols:"30",rows:"10"},domProps:{value:e.headers},on:{input:function(t){t.target.composing||(e.headers=t.target.value)}}})]),e._v(" "),s("label",[e._v("响应内容")]),e._v(" "),s("div",{staticClass:"res_content",class:{fullscreen:e.fullscreen},on:{click:function(t){e.jsonactive(t)},contextmenu:e.contextmenu}},[s("ul",[e.data?s("json-viewer",{staticClass:"json-view",attrs:{itemObj:e.data}}):e._e()],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("link",{attrs:{rel:"stylesheet",href:e.theme_addr}}),e._v(" "),s("saber_chttp")],1)},staticRenderFns:[]}}],[15]);
//# sourceMappingURL=app.0ce62e5185688206d686.js.map